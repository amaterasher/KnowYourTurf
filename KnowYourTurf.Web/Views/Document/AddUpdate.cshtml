@model DocumentViewModel
@using KnowYourTurf.Core.Html.FubuUI
@using KnowYourTurf.Web
@using KnowYourTurf.Web.Controllers
@using KnowYourTurf.Core.Html.Expressions
@{
    Layout = Model.Popup ? "~/Views/Shared/_popupLayout.cshtml" : "~/Views/Shared/_FormLayout.cshtml";
}


@MvcHtmlString.Create(FormFor<DocumentController>(x=>x.Save(null)).Class("CRUD").ElementId("CRUDForm").ToString())
    @MvcHtmlString.Create(Html.HiddenFor(x => x.Document.EntityId).ToString())
            @MvcHtmlString.Create(Html.HiddenFor(x => x.From).ToString())
            @MvcHtmlString.Create(Html.HiddenFor(x => x.ParentId).ToString())
        <div class="col left">
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Document.Name).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Document.Description).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Document.DocumentCategory).LabelDisplay(WebLocalizationKeys.DOCUMENT_CATEGORY).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @if (Model.Document.EntityId > 0)
            {
                @Html.ViewFor(x => x.Document.FileUrl).AddDisplayNameForHref(Model.Document.Name).LabelDisplay(WebLocalizationKeys.VIEW_FILE).ToHtmlTag()
            }
            else
            {
                    <p><input type="file" id="fileUpload" name="fileUpload" size="23"/></p><br />
            }
        </div>
    </div>
@EndForm()

