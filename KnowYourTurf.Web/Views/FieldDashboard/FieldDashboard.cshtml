@model KnowYourTurf.Web.Models.FieldDashboardViewModel
@using KnowYourTurf.Core.Html.Expressions
@using KnowYourTurf.Web.Controllers
@using KnowYourTurf.Web
@using KnowYourTurf.Core.Html.FubuUI
@using HtmlTags


@{ Layout = "~/Views/Shared/_EmptyLayout.cshtml"; }


@section HeaderJavascript{
  
    extraFormOptions = {
        pendingGridUrl:'@Model.PendingGridUrl',
        completedGridUrl:'@Model.CompletedGridUrl',
        photoGridUrl:'@Model.PhotoGridUrl',
        documentGridUrl: '@Model.DocumentGridUrl'
    }
}
   
    @MvcHtmlString.Create(FormFor<FieldController>(x => x.Save(null)).Class("CRUD").ElementId("CRUDForm").ToString())
        @MvcHtmlString.Create(Html.HiddenFor(x => x.Item.EntityId).ToString())
        <input type="hidden" id="ParentId" name="ParentId" value="@Model.ParentId"/>
        <input type="hidden" id="RootId" value="@Model.ParentId"/>
        <div class="col left">
            <div class="fieldRow">
                @Html.SubmissionFor(x => x.Item.Name).ToHtmlTag()
            </div>
            <div class="fieldRow">
                @Html.SubmissionFor(x => x.Item.Abbreviation).ToHtmlTag()
            </div>
            <div class="fieldRow">
                @Html.SubmissionFor(x => x.Item.Description).ToHtmlTag()
            </div>
            <div class="fieldRow">
                @Html.SubmissionFor(x => x.Item.Size).ToHtmlTag()
            </div>
            <div class="fieldRow">
                @WebLocalizationKeys.SELECT_COLOR_TO_ASSOCIATE_WITH_THIS_ITEM.ToString()
                @Html.SubmissionFor(x => x.Item.FieldColor).InputId("FieldColor").ToHtmlTag()
                <div id="colorPicker"></div>
            </div>
        </div>
    @EndForm()
            
    <div id="galleria" >
        @foreach (var photo in Model.Item.Photos)
        {
            <img src="@photo.FileUrl" />
        }
    </div>
    <div class="col full clear"></div>
    <div class="col left">
        @StandardButtonFor("save", WebLocalizationKeys.SAVE).AddClass("save").ToHtmlTag()
        @StandardButtonFor("cancel", WebLocalizationKeys.CANCEL).AddClass("cancel").ToHtmlTag()
    </div>
    <div class="col full clear"><hr/></div>

    <div class="col left clear">
        <div class="fieldRow">
            <div class="gridHeader">@WebLocalizationKeys.PENDING_TASKS</div>
            <div id="pendingTaskGridContainer"></div>
        </div>
        <div class="fieldRow">
            <div class="gridHeader">@WebLocalizationKeys.PHOTOS</div>
            <div id="photoGridContainer"></div>
        </div>
    </div>
   
<div class="col right">
    <div class="fieldRow">
        <div class="gridHeader">@WebLocalizationKeys.COMPLETED_TASKS</div>
        <div id="completedTaskGridContainer"></div>
    </div>
    <div class="fieldRow">
        <div class="gridHeader">@WebLocalizationKeys.DOCUMENTS</div>
        <div id="documentGridContainer"></div>
    </div>
</div>
